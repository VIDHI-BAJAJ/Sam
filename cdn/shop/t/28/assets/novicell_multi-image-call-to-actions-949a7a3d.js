class l extends HTMLElement{constructor(){super(),this.animationHasRun=!1,this.preheader=this.querySelector(".nc-multi-image-cta__preheader"),this.text1=this.querySelector(".nc-multi-image-cta__preheader-text--1"),this.text2=this.querySelector(".nc-multi-image-cta__preheader-text--2");let i={root:this.observerRoot,threshold:.75};new IntersectionObserver(t=>{t.forEach(a=>{a.isIntersecting&&this.animationHasRun===!1&&(this.animationHasRun=!0,this.initAnimation())})},i).observe(this)}counterAnimation(){let i=document.createElement("style"),e="";for(let s=1;s<101;s++)e+=`
      ${s}% {
        counter-increment: cta-counter ${s};
      }
      `;let t="";window.matchMedia("(min-width: 750px)").matches?t=12:t=8;const a=document.documentElement,r=parseInt(getComputedStyle(a).getPropertyValue("--nc-multi-cta-show-duration"))*t,o=parseFloat(getComputedStyle(a).getPropertyValue("--nc-multi-cta-preheader-animation-duration"))*1e3,n=parseFloat(getComputedStyle(a).getPropertyValue("--nc-multi-cta-preheader-animation-delay"))*1e3,c=o+n;i.innerHTML=`
    .nc-multi-image-cta__preheader-text--2 {
      animation: cta-counter ${r}ms forwards ${c}ms;
    }
    @keyframes cta-counter {
      ${e}
    }
    `,document.head.appendChild(i)}async initAnimation(){this.counterAnimation(),await this.preheaderAnimation(),await this.showItemsAnimation(),await this.positionItemsAnimation()}async preheaderAnimation(){return new Promise(i=>{this.preheadersub=this.preheader.querySelector("div");const e=()=>{this.preheadersub.removeEventListener("transitionend",e),i(!0)};if(this.preheadersub.addEventListener("transitionend",e),window.matchMedia("(min-width: 750px)").matches){const t=this.text1.parentElement.offsetWidth,a=this.text1.offsetWidth,m=this.text2.offsetWidth,r=(t-a)/2,o=(t-m)/2,n=document.documentElement;n.style.setProperty("--nc-multi-image-cta-preheader-item-1-text-translate","-"+r+"px"),n.style.setProperty("--nc-multi-image-cta-preheader-item-2-text-translate",o+"px")}this.preheader.classList.add("nc-multi-image-cta__preheader--animate")})}async showItemsAnimation(){return new Promise(i=>{let e="";window.matchMedia("(min-width: 750px)").matches?e=".nc-multi-image-cta__image--desktop-1-6":e=".nc-multi-image-cta__image--mobile-1-4";const t=()=>{this.querySelector(e).removeEventListener("transitionend",t),i(!0)};this.querySelector(e).addEventListener("transitionend",t),this.classList.add("nc-multi-image-cta--animate-show")})}async positionItemsAnimation(){return new Promise(i=>{let e="";window.matchMedia("(min-width: 750px)").matches?e=".nc-multi-image-cta__image--desktop-1-6":e=".nc-multi-image-cta__image--mobile-1-4";const t=()=>{this.querySelector(e).removeEventListener("animationend",t),i(!0)};this.querySelector(e).addEventListener("animationend",t),this.classList.add("nc-multi-image-cta--animate-position")})}}customElements.define("nc-multi-image-cta",l);
//# sourceMappingURL=/cdn/shop/t/28/assets/novicell_multi-image-call-to-actions-949a7a3d.js.map
