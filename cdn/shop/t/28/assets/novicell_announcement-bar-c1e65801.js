class r extends HTMLElement{constructor(){super(),this.fetchUserCountry()}fetchUserCountry(){fetch("/browsing_context_suggestions.json").then(t=>t.json()).then(t=>{this.querySelectorAll(".text-animation-slider__item").forEach(e=>{var n=e.dataset.countries=="global",i=e.dataset.countries=="eu"&&window.geoLocation.EU.includes(t.detected_values.country.handle),a=e.dataset.countries=="unsupported"&&!window.geoLocation.EU.includes(t.detected_values.country.handle)&&!window.geoLocation.US.includes(t.detected_values.country.handle)&&!window.geoLocation.JP.includes(t.detected_values.country.handle),s=e.dataset.countries=="us"&&window.geoLocation.US.includes(t.detected_values.country.handle)&&!i,o=e.dataset.countries=="jp"&&window.geoLocation.JP.includes(t.detected_values.country.handle)&&!i;n||i||a||s||o||e.remove()}),this.initAnimation()})}initAnimation(){if(this.animateContainer=this.querySelector(".text-animation-slider__container"),this.animateContainer){if(this.animateSlider=this.querySelector(".text-animation-slider__slider"),this.animatedItems=this.animateSlider.querySelectorAll(".text-animation-slider__item"),!this.animatedItems[0]||(this.animatedItems[0].classList.add("active","animated"),this.animateTextTimeout=null,this.animateTextTimeoutResize=null,this.firstLoad=!0,this.animateDuration=this.animateSlider.getAttribute("data-delay"),this.animatedItems.length===1))return;this.animate()}}animate(){this.animateTextTimeout=setTimeout(function(){var t=this.animateSlider.querySelector(".active");const e="animated",n="animate-in",i="animate-out",a="active";var s=t.nextElementSibling?t.nextElementSibling:this.animateSlider.firstElementChild;t.classList.add(i),t.classList.remove(a,e,n),s.classList.add(a,n),this.firstLoad=!1,this.animate()}.bind(this),this.animateDuration)}}customElements.define("announcement-bar",r);
//# sourceMappingURL=/cdn/shop/t/28/assets/novicell_announcement-bar-c1e65801.js.map
