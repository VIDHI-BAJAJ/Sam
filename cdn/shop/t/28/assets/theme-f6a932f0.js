(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const u of e.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function c(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function s(t){if(t.ep)return;t.ep=!0;const e=c(t);fetch(t.href,e)}})();const i=(r,o=!0,c="text/javascript")=>new Promise((s,t)=>{try{const e=document.createElement("script"),u=document.head||document.body;e.type=c,e.async=o,e.src=r,e.addEventListener("load",()=>{s({loaded:!0,error:!1,url:r})}),e.addEventListener("error",()=>{t({loaded:!1,error:!0,message:`Failed to load script with src ${r}`})}),u.appendChild(e)}catch(e){t(e)}}),n={},l=(r,o=r)=>{var c=a(r),s=c[0],t=c[c.length-1];d(),n.focusin=e=>{e.target!==r&&e.target!==t&&e.target!==s||document.addEventListener("keydown",n.keydown)},n.focusout=function(){document.removeEventListener("keydown",n.keydown)},n.keydown=function(e){e.code.toUpperCase()==="TAB"&&(e.target===t&&!e.shiftKey&&(e.preventDefault(),s.focus()),(e.target===r||e.target===s)&&e.shiftKey&&(e.preventDefault(),t.focus()))},document.addEventListener("focusout",n.focusout),document.addEventListener("focusin",n.focusin),o.focus(),o.tagName==="INPUT"&&["search","text","email","url"].includes(o.type)&&o.value&&o.setSelectionRange(0,o.value.length)},f=()=>{let r={regularProducts:[],swatchProducts:[],swatchProductsLimit:[],swatchProductsLimitReached:[]};return fetch(`${window.routes.cart_url}.js`,{method:"GET"}).then(o=>o.json()).then(o=>{let c=0,s=0,t=window.swatches.buyLimit;return o.items.forEach(e=>{let u=e.product_type.toLowerCase();u==window.swatches.productTypeUpholstery||u==window.swatches.productTypeMaterial?(s=s+e.quantity,r.swatchProducts.push(e)):(c=c+e.quantity,r.regularProducts.push(e))}),r.swatchProductsLimit.push(t),s>=t?r.swatchProductsLimitReached.push(!0):r.swatchProductsLimitReached.push(!1),r}).catch(console.error)};function a(r){return Array.from(r.querySelectorAll("summary, a[href], button:enabled, [tabindex]:not([tabindex^='-']), [draggable], area, input:not([type=hidden]):enabled, select:enabled, textarea:enabled, object, iframe"))}function d(r=null){document.removeEventListener("focusin",n.focusin),document.removeEventListener("focusout",n.focusout),document.removeEventListener("keydown",n.keydown),r&&r.focus()}export{f,i as l,l as t};
//# sourceMappingURL=/cdn/shop/t/28/assets/theme-f6a932f0.js.map
